/*! alia 2014-08-13 */
!function(a,b){"use strict";function c(a,b,c){for(var d in b)(!a.hasOwnProperty(d)||c&&c.hasOwnProperty(d)&&!c[d].hasOwnProperty(a[d]))&&(a[d]=b[d])}function d(a,b){for(var c in b)b.hasOwnProperty(c)&&(a=a.replace(":"+c,b[c]));return a}function e(a){this.defaultPrevented=!1,this.result=b,this.type=a}function f(){for(var a,b=w.length;b;){if(b--,a=w[b].charCodeAt(0),57==a)return w[b]="A",w.join("");if(90!=a)return w[b]=String.fromCharCode(a+1),w.join("");w[b]="0"}return w.unshift("0"),w.join("")}function g(){function a(){var a=$(this),b=a.attr("alia-context"),c=f();g.ids[b]=c,a.attr("id",c)}var b="",c="",d=null;if(1===arguments.length?c=arguments[0]:2===arguments.length?"string"==typeof arguments[1]?(b=arguments[0],c=arguments[1]):"object"==typeof arguments[1]&&(c=arguments[0],d=arguments[1]):3===arguments.length&&(b=arguments[0],c=arguments[1],d=arguments[2]),"string"!=typeof b)throw new Error("Append only accepts string keys");if("string"!=typeof c||0===c.length)throw new Error("Append only accepts non-empty string html arguments");if(d&&("object"!=typeof d||Array.isArray(d)))throw new Error("Append only accepts object parameters");if(!this.ids.hasOwnProperty(b))throw new Error("Unrecognized key");for(var e in d)d.hasOwnProperty(e)&&(c=c.replace(new RegExp(":"+e,"g"),d[e]));var g=new q,h=$(c);return h.filter("[alia-context]").each(a),h.find("[alia-context]").each(a),$("#"+this.ids[b]).append(h),g}function h(){for(var a in this.ids)this.ids.hasOwnProperty(a)&&$("#"+this.ids[a]).empty()}function i(a){return $("#"+this.ids[""]).click(this,a),this}function j(a){return $("#"+this.ids[""]).click(this,function(){$("html, body").animate({scrollTop:$('[name="'+a+'"]').offset().top-parseInt($("body").css("padding-top"))},300)}),this}function k(a){return $("#"+this.id()).keypress(function(b){13===b.which&&(b.preventDefault(),a())}),this}function l(a,b){return $("#"+this.ids[""]).hover(a,b),this}function m(a){return $("#"+this.ids[""]).focusout(a),this}function n(a){return $(window).resize(function(){var b=$("#"+this.ids[""]).width();a(b)}.bind(this)),this}function o(a){Object.defineProperty(this,"id",{value:a,writable:!1,enumerable:!0,configurable:!1})}function p(a){this.ids="string"==typeof a?{"":a}:a}function q(){this.ids={}}function r(a){var b=s.$localStorage,c=b.get("leftCollapsed"),d=b.get("rightCollapsed");null===c&&(c=!1,b.set("leftCollapsed",!1)),null===d&&(c=!1,b.set("rightCollapsed",!1)),this.body=a.append('<div alia-context class="multiview-body sticky-navigation sticky-menu"></div>'),this.nav=this.body.append('<div alia-context class="multiview-navigation"></div>').onHover(function(){this.body.class("add","peek-navigation")}.bind(this),function(){this.body.class("remove","peek-navigation")}.bind(this)),this.menu=this.body.append('<div alia-context class="multiview-menu"></div>').onHover(function(){this.body.class("add","peek-menu")}.bind(this),function(){this.body.class("remove","peek-menu")}.bind(this)),this.body.append('<div alia-context class="multiview-navigation-draggable"></div>').onClick(function(){this.body.class("toggle","sticky-navigation"),this.body.class("toggle","collapse-navigation"),c=!c,b.set("leftCollapsed",c)}.bind(this)).onHover(function(){this.body.class("add","peek-navigation")}.bind(this),function(){this.body.class("remove","peek-navigation")}.bind(this)),this.viewport=this.body.append('<div alia-context class="multiview-viewport"></div>'),this.body.append('<div alia-context class="multiview-menu-draggable"></div>').onClick(function(){this.body.class("toggle","sticky-menu"),this.body.class("toggle","collapse-menu"),d=!d,b.set("rightCollapsed",d)}.bind(this)).onHover(function(){this.body.class("add","peek-menu")}.bind(this),function(){this.body.class("remove","peek-menu")}.bind(this)),c&&this.body.class("add","collapse-navigation"),d&&this.body.class("add","collapse-menu");var e=this;this.nav.push=function(){return e.push.apply(e,arguments),this},this.viewport.push=function(){return e.push.apply(e,arguments),this},this.views={},this.default=null,this.active=null}var s={},t={},u={};a.version="0.1.0",a.defaults=a.applyDefaults=c,a.replace=d,a.error=function(a){for(var b=1;b<arguments.length;++b)a=a.replace(/\?/,"'"+arguments[b]+"'");return new Error(a)},e.prototype.isDefaultPrevented=function(){return this.defaultPrevented},e.prototype.preventDefault=function(){this.defaultPrevented=!0};var v={};a.on=function(a,b){var c=v[a];c||(c=v[a]=[]),c.push(b)},a.broadcast=function(a,b){var c,d=new e(a),f=v[a];if(f){var g=[d];if(2===arguments.length)g=g.concat(b);else if(arguments.length>2)for(c=1;c<arguments.length;++c)g.push(arguments[c]);for(c=0;c<f.length&&(d.result=f[c].apply(null,g),!d.isDefaultPrevented());++c);}return d};var w=["0","0","0"],x=$("body").find("[alia-viewport]").first();x.attr("id",f());var y=new p(x.attr("id"));a.viewport=y;var z=y,A="view";a.currentContext=function(){return z},a.currentContextType=function(){return A},a.stageMultiviewContext=function(){return y.empty(),A="multiview",z=r.create(y)},a.stageViewContext=function(){return y.empty(),A="view",z=y};var B=$("body").find("[alia-alerts]").first();B.attr("id",f()),a.alerts=new p(B.attr("id"));var C=$("body").find("[alia-header]").first();C.attr("id",f()),a.header=new p(C.attr("id")),o.prototype.hide=function(){$("#"+this.id).hide()},o.prototype.onClick=function(a){return $("#"+this.id).click(this,a),this},o.prototype.show=function(){$("#"+this.id).show()},p.prototype.append=g,p.prototype.empty=h,q.prototype.animateOnClick=function(a,b,c){var d=this;$("#"+a.id()).click(function(){$("#"+d.id()).animate(b,c)})},q.prototype.bindCheckboxField=function(a,b){1===arguments.length&&(b=a,a="");var c=$("#"+this.id(a)),d=this.defineProperty("checked",b);if(!b.isSettable())throw new Error("Attempted to bind non-settable observer to checkbox field");var e;d.onResolve(function(a){e!==a&&(e=a,c.prop("checked",a))}),c.on("change",function(){var a=c.prop("checked")||!1;e!==a&&(e=a,d.set(e))})},q.prototype.bindCollapse=function(a,b){var c=this.defineProperty("collapsed",b),d=$("#"+this.id(a));c.onResolve(function(a){a?d.slideUp(200):d.slideDown(200)})},q.prototype.bindDisabled=function(a,b){1===arguments.length&&(b=a,a="");var c=$("#"+this.id(a));return this.defineProperty("disabled",b).onResolve(function(a){a===!0?c.attr("disabled","disabled"):c.removeAttr("disabled")}),this},q.prototype.bindHtml=function(a,b,c){2===arguments.length&&(c=b,b=a,a="");var d=$("#"+this.id(a));return this.defineProperty(b,c).onResolve(function(a){d.html(a)}),this},q.prototype.bindDate=function(a,b){switch(arguments.length){case 1:b=a,a=""}var c,d=$("#"+this.id(a)),e=function(){return new Date(d.val())},f=this.defineProperty("date",b);d.change(function(){var a=e();c!==a&&(c=a,f.set(c))}),f.onResolve(function(a){c!==a&&(c=a,d.datepicker("setDate",c))})},q.prototype.bindText=function(a,b,c,d){switch(arguments.length){case 1:d="text",c=a,b="text",a="";break;case 2:d=b,c=a,b="text",a="";break;case 3:d=c,c=b,b=a,a=""}var e,f=$("#"+this.id(a)),g=this.defaultParser(d),h=function(){var a;try{a=g(f.val())}catch(b){a=null}return a},i=this.defineProperty(b,c);f.on("input",function(){var a=h();e!==a&&(e=a,i.set(e))}),i.onResolve(function(a){e!==a&&(e=a,f.val(e))}),i.onUnresolve(function(){f.val("")})},q.prototype.bindSelectValue=function(a,b){1===arguments.length&&(b=a,a="");var c,d=$("#"+this.id(a)),e=this.defineProperty("selected",b);d.on("change",function(){var a=d.val();c!==a&&(c=a,e.set(c))}),e.onResolve(function(a){c!==a&&(c=a,d.val(c))})},q.prototype.bindOption=function(a,b){var c=($("#"+this.id("")),a.then(function(a){return"string"==typeof a||"number"==typeof a?a:a.value})),d=a.then(function(a){return"string"==typeof a||"number"==typeof a?a:a.text}),e=this.defineProperty("text",d),f=this.defineProperty("value",c);f.onResolve(function(a){this.attr("value",a),"function"==typeof b&&b()}.bind(this)),e.onResolve(function(a){this.html(a),"function"==typeof b&&b()}.bind(this))},q.prototype.bindVisible=function(a,b){1===arguments.length&&(b=a,a="");var c=$("#"+this.id(a));return this.defineProperty("visible",b).onResolve(function(a){a===!0?c.show():c.hide()}),this},q.prototype.defaultParser=function(a){switch(a){case"number":return function(a){return parseInt(a)};default:return function(a){return a||""}}},q.prototype.append=g,q.prototype.empty=h,q.prototype.attr=function(a,b){return this.kattr("",a,b)},q.prototype.class=function(a,b){return this.kclass("",a,b)},q.prototype.doClick=function(){$("#"+this.ids[""]).click()},q.prototype.css=function(a,b){return this.kcss("",a,b)},q.prototype.defineProperty=function(b,c){var d;return d=a.isAccessor(c)?c:a.state(c),Object.defineProperty(this,b,{value:d,writable:!1,enumerable:!0,configurable:!1}),d},q.prototype.defineStatic=function(a,b){Object.defineProperty(this,a,{value:b,writable:!1,enumerable:!0,configurable:!1})},q.prototype.defineEvent=function(a){var b=this,c={},d="on"+a.charAt(0).toUpperCase()+a.slice(1),f="emit"+a.charAt(0).toUpperCase()+a.slice(1);this[d]=function(d){var e=c[a];return e||(e=c[a]=[]),e.push(d),b},this[f]=function(b){var d,f=new e(a),g=c[a];if(g){var h=[f];if(1===arguments.length)h=h.concat(b);else if(arguments.length>1)for(d=0;d<arguments.length;++d)h.push(arguments[d]);for(d=0;d<g.length&&(f.result=g[d].apply(null,h),!f.isDefaultPrevented());++d);}return f}},q.prototype.doFocus=function(a){"undefined"==typeof a&&(a=""),$("#"+this.id(a)).focus()},q.prototype.html=function(a){return this.khtml("",a)},q.prototype.id=function(a){return"string"!=typeof a?this.ids[""]:this.ids[a]},q.prototype.kattr=function(a,b,c){return c?void $("#"+this.ids[a]).attr(b,c):$("#"+this.ids[a]).attr(b)},q.prototype.kclass=function(a,b,c){return"add"===b?$("#"+this.ids[a]).addClass(c):"remove"===b?$("#"+this.ids[a]).removeClass(c):"toggle"===b&&$("#"+this.ids[a]).toggleClass(c),this},q.prototype.kcss=function(a,b,c){return c?($("#"+this.ids[a]).css(b,c),this):$("#"+this.ids[a]).css(b)},q.prototype.khtml=function(a,b){return b?void $("#"+this.id(a)).html(b):$("#"+this.id(a)).html(b)},q.prototype.onClick=i,q.prototype.onClickScrollTo=j,q.prototype.onEnterKey=k,q.prototype.onFocusOut=m,q.prototype.onHover=l,q.prototype.onResize=n,q.prototype.removeAttr=function(a){$("#"+this.id()).removeAttr(a)},q.prototype.slideDownOnClick=function(a,b){var c=this;$("#"+a.id()).click(function(){b?$("#"+c.id()).slideDown(b):$("#"+c.id()).slideDown()})},q.prototype.slideUpOnClick=function(a,b){var c=this;$("#"+a.id()).click(function(){b?$("#"+c.id()).slideUp(b):$("#"+c.id()).slideUp()})},q.prototype.width=function(){return $("#"+this.ids[""]).width()},a.multiviewSignature=function(a,b){var c=[];for(var d in b)b.hasOwnProperty(d)&&"view"!==d&&c.push(d+"="+b[d]);return["view="+a].concat(c.sort()).join("&")},r.prototype.begin=function(a,b){var c=s.$location;return this.active||c.search().hasOwnProperty("view")||this.push(a,b),this},r.create=function(a){var b=new r(a);return{begin:function(){return b.begin.apply(b,arguments),this},currentSignature:function(){return b.active?b.active.signature:""},include:function(){return b.include.apply(b,arguments),this},navigation:function(){return b.navigation.apply(b,arguments),this},push:function(){return b.push.apply(b,arguments),this},signature:function(){return b.signature.apply(b,arguments),this},view:function(){return b.view.apply(b,arguments),this}}},r.prototype.include=function(a){if("string"!=typeof a.name)throw new Error("Missing or invalid view name during multiview definition");return this.views[a.name]={name:a.name,included:u[a.path]},this},r.prototype.push=function(b,c){var d=this.views[b];if(!d)throw new Error("Unknown view: "+b);var e=this.signature(b,c);if(!this.active||this.active.signature!==e){var f=this.viewport;"function"==typeof d.viewport?(f.empty(),d.viewport(this.viewport,c)):"object"==typeof d.included&&a.resolve(d.included.opts.dependencies,[this.viewport],{$query:c}).onResolve(function(a){f.empty(),d.included.ctor.apply(null,a)});var g={signature:e};this.active=g;var h=s.$location;return h.search(this.active.signature),g}},r.prototype.navigation=function(a){return a(this.nav),this},r.prototype.signature=function(a,b){var c=[];for(var d in b)b.hasOwnProperty(d)&&"view"!==d&&c.push(d+"="+b[d]);return["view="+a].concat(c.sort()).join("&")},r.prototype.view=function(a){if("string"!=typeof a.name)throw new Error("Missing or invalid view name during multiview definition");if("function"!=typeof a.viewport)throw new Error("Missing or invalid viewport function during multiview definition");return this.views[a.name]={name:a.name,viewport:a.viewport},this},a.defineControl=function(b,c){var d="do"+b.name.charAt(0).toUpperCase()+b.name.slice(1);a[d]=function(a,b){var d=c.call(a,b);return d}},a.defineHeader=function(b,c){a.resolve(b.dependencies).then(function(b){a.header.empty();var d=c.apply(null,b),e=d.call(null,a.header);return e})},a.defineLayout=function(b,c){var d="layout"+b.name.charAt(0).toUpperCase()+b.name.slice(1);a[d]=function(a,b,d){var e=c.call(a,b);return function(){return d(e),e}()}},a.defineMultiview=function(b,c){a.defineView({path:b.path,dependencies:b.dependencies,multiview:!0},c)},a.defineProvider=function(a,b){if("string"!=typeof a.name||"$"!==a.name.substr(0,1))throw new Error("Missing or invalid provider name");var c=[],d=a.dependencies;if(d)for(var e=0;e<d.length;++e){if(!s.hasOwnProperty(d[e]))throw new Error("Unable to resolve provider dependency");c.push(s[d[e]])}s[a.name]=b.apply(null,c)},a.resolve=function(b,c,d){c=c||[];for(var e=0;e<b.length;++e)d&&d.hasOwnProperty(b[e])?c.push(d[b[e]]):s.hasOwnProperty(b[e])?c.push(s[b[e]]):t.hasOwnProperty(b[e])&&c.push(t[b[e]].accessor);return a.all(c)},a.defineService=function(b,c){console.log("--- DEFINE SERVICE:",b.name),t[b.name]={dependencies:b.dependencies,constructor:c,accessor:a.resolve(b.dependencies).then(function(a){return c.apply(null,a)})}},a.defineView=function(a,b){var c=s.$route;if(!c)throw new Error("Missing route provider");u[a.path]={opts:a,ctor:b},c.when(a,b),a.default===!0&&c.otherwise(a,b)}}(window.alia=window.alia||{}),function(a){"use strict";function b(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=d(b[c]);return b.join("/")}function c(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function d(a){return c(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function e(b){var c=a.isString(b)?a.url.resolve(b):b;return c.protocol===k.protocol&&c.host===k.host}function f(b){for(var c={},d=(b||"").split("&"),e=0;e<d.length;++e){var f=d[e];if(f){var g=f.split("="),h=i(g[0]);if(a.isDefined(h)){var j=a.isDefined(g[1])?i(g[1]):!0;c[h]?a.isArray(c[h])?c[h].push(j):c[h]=[c[h],j]:c[h]=j}}}return c}function g(b){var c=b;return a.msie&&(j.setAttribute("href",c),c=j.href),j.setAttribute("href",c),{href:j.href,protocol:j.protocol?j.protocol.replace(/:$/,""):"",host:j.host,search:j.search?j.search.replace(/^\?/,""):"",hash:j.hash?j.hash.replace(/^#/,""):"",hostname:j.hostname,port:j.port,pathname:"/"===j.pathname.charAt(0)?j.pathname:"/"+j.pathname}}function h(b){var d=[];for(var e in b)if(b.hasOwnProperty(e)){var f=b[e];if(a.isArray(f))for(var g=0;g<f.length;++g){var h=f[g];d.push(c(e,!0)+(h===!0?"":"="+c(h,!0)))}else d.push(c(e,!0)+(f===!0?"":"="+c(f,!0)))}return d.length?d.join("&"):""}function i(a){try{return decodeURIComponent(a)}catch(b){}}var j=document.createElement("a"),k=g(window.location.href,!0);a.url={encodePath:b,encodeUriSegment:d,encodeUriQuery:c,isSameOrigin:e,parseQuery:f,resolve:g,toQueryString:h,tryDecodeURIComponent:i}}(window.alia=window.alia||{}),function(a){"use strict";a.isArray=function(a){return"[object Array]"===toString.call(a)},a.isArrayLike=function(b){if(null===b||isWindow(b))return!1;var c=b.length;return 1===b.nodeType&&c?!0:a.isString(b)||a.isArray(b)||0===c||"number"==typeof c&&c>0&&c-1 in b},a.isDefined=function(a){return"undefined"!=typeof a},a.isNull=function(a){return null===a},a.isNotNull=function(a){return null!==a},a.isObject=function(a){return null!==a&&"object"==typeof a},a.isString=function(a){return"string"==typeof a},a.isEmptyString=function(a){return"string"!=typeof a||0===a.length},a.isNotEmptyString=function(a){return"string"==typeof a&&a.length>0},a.isUndefined=function(a){return"undefined"==typeof a},a.isNotUndefined=function(a){return"undefined"!=typeof a},a.isWindow=function(a){return a&&a.document&&a.location&&a.alert&&a.setInterval},a.int=function(a){return parseInt(a,10)},a.lowercase=function(b){return a.isString(b)?b.toLowerCase():b},a.noop=function(){}}(window.alia=window.alia||{}),function(a,b){"use strict";a.defineProvider({name:"$"},function(){return b})}(alia,$),function(a,b){"use strict";a.defineProvider({name:"$window"},function(){return b})}(alia,window),function(a){"use strict";a.defineProvider({name:"$location",dependencies:["$"]},function(b){function c(){return y.absUrl}function d(){var b=g();if(y.absUrl!==b){var c={redirect:null};c=a.broadcast("locationChangeStarted",[y.absUrl,b]),c.isDefaultPrevented()?k(b):(g(y.absUrl),a.broadcast("locationChanged",y.absUrl))}}function e(){var a=z.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""}function f(a,b){return 0===b.indexOf(a)?b.substr(a.length):void 0}function g(a,b){return location!==window.location&&(location=window.location),history!==window.history&&(history=window.history),"string"!=typeof a?B||location.href.replace(/%27/g,"'"):void(A!==a&&(A=a,b?history.replaceState(null,"",a):history.pushState(null,"",a)))}function h(){var b=a.url.toQueryString(y.search),c=y.hash?"#"+a.url.encodeUriSegment(y.hash):"";y.url=a.url.encodePath(y.path)+(b?"?"+b:"")+c,y.absUrl=E+y.url.substr(1)}function i(a){return"string"!=typeof a?y.hash:void h()}function j(){return y.host}function k(a){var b=f(E,a);if("string"!=typeof b)throw new Error("Invalid path url during location.parse");m(b),y.path||(y.path="/"),h()}function l(b){var c=a.url.resolve(b,D);y.protocol=c.protocol,y.host=c.hostname,y.port=parseInt(c.port,10)||x[c.protocol]||null}function m(b){var c="/"!==b.charAt(0);c&&(b="/"+b);var d=a.url.resolve(b,D),e=d.pathname,f=c&&"/"===e.charAt(0)?e.substring(1):e;y.path=decodeURIComponent(f),y.search=a.url.parseQuery(d.search),y.hash=decodeURIComponent(d.hash),y.path&&"/"!=y.path.charAt(0)&&(y.path="/"+y.path)}function n(a){return"string"!=typeof a?y.path:(y.path="/"==a.charAt(0)?a:"/"+a,h(),d(),void 0)}function o(){return y.protocol}function p(){return y.port}function q(a){var b,c;return void 0!==(b=f(D,a))?(c=b,void 0!==(b=f(F,b))?E+(f("/",b)||b):D+c):void 0!==(b=f(E,a))?E+b:E==a+"/"?E:void 0}function r(b,c){switch(arguments.length){case 0:return y.search;case 1:if(a.isString(b))y.search=a.url.parseQuery(b);else{if(!a.isObject(b))throw new Error("The first argument of the `$location#search()` call must be a string or an object.");y.search=b}break;default:a.isUndefined(c)||null===c?delete y.search[b]:y.search[b]=c}h(),d()}function s(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function t(a){return a.substr(0,u(a).lastIndexOf("/")+1)}function u(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function v(b,c){if(a.isUndefined(b))return y.url;var e=w.exec(b);e[1]&&n(decodeURIComponent(e[1])),(e[2]||e[1])&&r(e[3]||""),i(e[5]||"",c),d()}var w=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,x={http:80,https:443,ftp:21},y={absUrl:null,protocol:null,host:null,port:null,url:null},z=b("base"),A=location.href,B=null,C=g(),D=s(C)+(e()||"/"),E=t(D),F=F||"",G=b("body");return G.on("click",function(a){if(!a.ctrlKey&&!a.metaKey&&2!=a.which){for(var c=b(a.target);"a"!==c[0].nodeName.toLowerCase();)if(c[0]===G[0]||!(c=c.parent())[0])return;var e=c.prop("href"),f=q(e);e&&!c.attr("target")&&f&&!a.isDefaultPrevented()&&f!==g()&&(a.preventDefault(),k(f),d())}}),b(window).on("popstate",function(){console.log("popstate");var b=g();if(A!==b&&(A=b,y.absUrl!==b)){var c=y.absUrl;k(b),a.broadcast("locationChanged",[y.absUrl,c])}}),l(D),k(q(C)),d(),{absUrl:c,baseHref:e,hash:i,host:j,path:n,protocol:o,port:p,search:r,url:v}})}(alia),function(a){"use strict";a.defineProvider({name:"$localStorage",dependencies:[]},function(){var a={};return a.set=function(a,b){if("string"!=typeof a)throw new Error("Attempted to set localStorage value for non-string property");var c="alia-"+a;localStorage.setItem(c,JSON.stringify(b))},a.get=function(a){if("string"==typeof a){var b="alia-"+a;return JSON.parse(localStorage.getItem(b))}throw new Error("Attempted to get localStorage value for non-string property")},a.remove=function(a){if("string"!=typeof a)throw new Error("Attempted to remove localStorage item for non-string property");var b="alia-"+a;localStorage.removeItem(b)},a.clear=function(){for(var a in localStorage)"alia-"===a.substr(0,5)&&localStorage.removeItem(a)},a})}(alia),function(a){"use strict";a.defineProvider({name:"$route",dependencies:["$","$location"]},function(b,c){function d(){if(i.hasOwnProperty(j.path)){var b=i[j.path];b.workspace?(j.context=a.stageWorkspaceContext(),j.type="workspace"):b.multiview?(j.context=a.stageMultiviewContext(),j.type="multiview"):(j.context=a.stageViewContext(),j.type="view"),a.resolve(b.dependencies,[j.context],{$params:j.params,$query:j.query}).onResolve(function(a){var c,d,e;b.ctor.apply(null,a),"workspace"===j.type&&"string"==typeof j.query.task?(d=j.context,c=d.signature(j.query.task,j.query),d.currentSignature()!==c&&d.push(j.query.task,j.query)):"multiview"===j.type&&"string"==typeof j.query.view&&(e=j.context,c=e.signature(j.query.view,j.query),e.currentSignature()!==c&&e.push(j.query.view,j.query))})}}function e(a,b){if(!b.regex)return null;var c=b.regex.re.exec(a);if(!c)return null;for(var d=b.regex.keys,e={},f=1,g=c.length;g>f;++f){var h=d[f-1],i="string"==typeof c[f]?decodeURIComponent(c[f]):c[f];h&&i&&(e[h.name]=i)}return e}function f(){var a,b;for(var d in i)if(i.hasOwnProperty(d)&&(a=e(c.path(),i[d]))){b={path:d,params:a,query:c.search()};break}return b}function g(a,b){b=b||{};var c=b.caseInsensitiveMatch,d={originalPath:a,re:a},e=d.keys=[];return a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(a,b,c,d){var f="?"===d?d:null,g="*"===d?d:null;return e.push({name:c,optional:!!f}),b=b||"",""+(f?"":b)+"(?:"+(f?b:"")+(g&&"(.+?)"||"([^/]+)")+(f||"")+")"+(f||"")}).replace(/([\/$\*])/g,"\\$1"),d.re=new RegExp("^"+a+"$",c?"i":""),d}function h(){var a,b,c,e=f();j&&j.path===e.path?"workspace"===j.type&&"string"==typeof e.query.task?(b=j.context,c=b.signature(e.query.task,e.query),b.currentSignature()!==c&&b.push(e.query.task,e.query)):"multiview"===j.type&&"string"==typeof e.query.view&&(a=j.context,c=a.signature(e.query.view,e.query),a.currentSignature()!==c&&a.push(e.query.view,e.query)):(j=e,d())}var i={},j=null;a.on("locationChanged",h);var k={};return k.when=function(a,b){i[a.path]={path:a.path,dependencies:a.dependencies,regex:g(a.path),workspace:a.workspace===!0,multiview:a.multiview===!0,ctor:b};var d=e(c.path(),i[a.path]);return d&&h(null,a.path),this},k.otherwise=function(){return this},k})}(alia),function(a){"use strict";a.defineProvider({name:"$request",dependencies:["$"]},function(b){function c(a,b,c){var d,e;for(e in b)b.hasOwnProperty(e)&&(a=a.replace(":"+e,b[e]));var f=[];if(Array.isArray(c))for(d=0;d<c.length;++d)c[d].hasOwnProperty("key")&&c[d].hasOwnProperty("value")&&f.push(c[d].key+"="+c[d].value);else for(e in c)c.hasOwnProperty(e)&&f.push(e+"="+c[e].toString());return f.length>0&&(a+="?"+f.join("&")),a}var d=function(d){var e={url:c(d.url,d.params,d.query),type:d.method?d.method:"GET"};d.json&&(e.data=JSON.stringify(d.json),e.contentType="application/json",e.processData=!1),b.extend(!0,d,e);var f=b.ajax(d);return a.deferred(function(b,c){f.then(function(a,c,d){b({body:a,status:c,statusCode:d.status,xhr:d})},function(b,d,e){var f={error:e,status:d,statusCode:b.status,xhr:b},g=a.broadcast("requestError",[f]);g.defaultPrevented,c(a.error(f))})})};return d.get=function(a,b,c){return d({url:a,method:"GET",params:b,query:c,xhrFields:{withCredentials:!0}})},d.post=function(a,b,c,e){switch(arguments.length){case 2:e=b,b=null;break;case 3:e=c,c=null;break;case 4:}return d({url:a,method:"POST",params:b,query:c,json:e,xhrFields:{withCredentials:!0}})},d.put=function(a,b,c,e){switch(arguments.length){case 2:e=b,b=null;break;case 3:e=c,c=null;break;case 4:}return d({url:a,method:"PUT",params:b,query:c,json:e})},d})}(alia);